<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="./asset/vendor/bootstrap/bootstrap.min.css">

  <link rel="stylesheet" href="./asset/css/global.css">
  <link rel="stylesheet" href="./asset/css/style.css">

  <link rel="icon" href="./asset/img/brand/icon.png">
  <title>Urban Traffic Portal</title>
  <meta name="author" content="Sigma Team">
  <meta name="keywords" content="">
  <meta name="description" content="">
</head>

<body>
  <div id="pageWelcome">
    <div id="pageWelcomeContent">
      <nav class="navbar navbar-expand-sm navbar-light">
        <div class="container-fluid">
          <a class="navbar-brand fontHeading text-primary" href="./index.html">
            <img src="./asset/img/brand/logo.png" height="30" width="auto" class="mr-2" alt="">
            <span class="d-none d-sm-inline">Urban Traffic Portal</span>
            <span class="d-sm-none">UTP</span>
          </a>
          <ul class="navbar-nav ml-auto d-none d-sm-flex">
            <li class="nav-item">
              <a class="nav-link" href="#">About</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#">Contact us</a>
            </li>
          </ul>
          <div class="dropdown ml-auto d-sm-none">
            <button class="btn btn-dark" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
              <i class="fas fa-bars"></i>
            </button>
            <div class="dropdown-navbar dropdown-menu dropdown-menu-right p-4 shadow border border-primary mt-3">
              <h5 class="text-right text-primary">Urban Traffic Portal</h5>
              <div class="dropdown-divider"></div>
              <ul class="navbar-nav text-right d-block">
                <li class="nav-item">
                  <a class="nav-link" href="#">About</a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="#">Contact us</a>
                </li>
              </ul>
            </div>
          </div>
        </div>
      </nav>
      <div class="container text-center" id="pageWelcomeHello">
        <img src="./asset/img/brand/logo.png" height="100" width="auto" alt="" class="mb-2">
        <h2 id="textLogo" class="fontHeading text-center text-light">
          Urban Traffic Portal
        </h2>
        <div class="input-group col-md-8 offset-md-2">
          <div class="input-group-prepend">
            <div class="input-group-text fontWriting">Mr/Mrs:</div>
          </div>
          <input id="inputGuestName" class="form-control text-light fontWriting" autocomplete="off" autofocus maxlength="30">
        </div>
        <button id="buttonGo" class="btn btn-primary border-light my-3 pr-4 pl-4">
          Go
        </button>
      </div>
    </div>
    <div id="frame" class="fixed-bottom">
    </div>
    <div class="dropdown dropup mr-3 mb-3" style="position: absolute; bottom: 0; right: 0; z-index: 2;">
      <button class="btn btn-primary border-light dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
        Administrators
      </button>
      <div id="formSignin" class="dropdown-menu dropdown-menu-right p-4 shadow border border-primary mb-3">
        <h5 class="text-center text-primary">Administrator account</h5>
        <div class="text-center text-secondary">This is the area only for administrators</div>
        <div class="dropdown-divider"></div>
        <div class="form-group">
          <label for="inputUsername">Username</label>
          <input type="text" class="form-control" id="inputUsername" placeholder="Username">
        </div>
        <div class="form-group">
          <label for="inputPassword">Password</label>
          <input type="password" class="form-control" id="inputPassword" placeholder="Password">
        </div>
        <div class="text-right">
          <button id="buttonSignin" class="btn btn-primary">Sign in</button>
        </div>
      </div>
    </div>
  </div>

  <div id="pageMain">
    <nav id="mainNavbar" class="navbar navbar-expand-sm navbar-light bg-light fixed-top">
      <div id="navGuest" class="container-fluid">
        <a class="navbar-brand fontHeading text-primary" href="./index.html">
          <img src="./asset/img/brand/logo.png" height="30" width="auto" class="mr-2" alt="">
          <span class="d-none d-sm-inline d-lg-none d-xl-inline">Urban Traffic Portal</span>
          <span class="d-inline d-sm-none d-lg-inline d-xl-none">UTP</span>
        </a>
        <ul class="navbar-nav d-none d-lg-flex">
          <li class="nav-item">
            <a class="nav-link" href="#">Traffic</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Traffic Safety Measures</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Traffic Rules</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">Contact us</a>
          </li>
        </ul>
        <div class="dropdown ml-auto mr-2">
          <button id="buttonUser" class="btn btn-outline-primary" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <span class="d-none d-lg-inline">@Guest: <b class="textGuestName"></b></span>
            <span class="d-lg-none">Guest</span>
          </button>
          <div class="dropdown-user dropdown-menu dropdown-menu-right p-4 shadow border border-primary mt-3">
            <h6 class="text-center text-primary">Guest Account</h6>
            <div class="text-center text-secondary">You are using as a guest account.</div>
            <div class="dropdown-divider"></div>
            <p>
              Hello Mr/Mrs <b class="textGuestName"></b>,<br>Welcome to <b class="text-primary">Urban Traffic Portal</b>
            </p>
          </div>
        </div>
        <div class="dropdown d-lg-none">
          <button class="btn btn-dark" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fas fa-bars"></i>
          </button>
          <div class="dropdown-navbar dropdown-menu dropdown-menu-right p-4 shadow border border-primary mt-3">
            <h5 class="text-right text-primary">Urban Traffic Portal</h5>
            <div class="dropdown-divider"></div>
            <ul class="navbar-nav text-right d-block">
              <li class="nav-item">
                <a class="nav-link" href="#">Traffic</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Traffic Safety Measures</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Traffic Rules</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">About</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Contact us</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </nav>
    <div id="sidebar">
      <button id="dismiss" class="btn btn-primary rounded-circle ml-auto mr-2">
        <i class="fas fa-arrow-left"></i>
      </button>
      <div class="sidebar-header">
        <h3 class="text-light">Widget</h3>
      </div>
      <div class="my-3 p-4 bg-light widget-item">
        <h5 class="text-primary"><i class="fas fa-clock"></i> Datetime</h5>
        <div id="widgetDate"></div>
        <div id="widgetTime"></div>
      </div>
      <div class="my-3 p-4 bg-light widget-item">
        <h5 class="text-primary"><i class="fas fa-user-alt"></i> Online</h5>
        <div id="widgetOnline"></div>
      </div>
      <div class="my-3 p-4 bg-light widget-item">
        <h5 class="text-primary"><i class="fas fa-eye"></i> Views</h5>
        <div id="widgetViews"></div>
      </div>
    </div>
    <div id="content" class="container-fluid">
      <div class="row">
        <button id="buttonSidebar" class="btn btn-primary rounded-pill ml-4 my-4">
          <i class="fas fa-plus"></i> Widget
        </button>
        <h2 class="my-4 ml-auto mr-auto"><span class="text-primary">Traffic Safety Merchandise</span> Shop</h2>
      </div>

      <div ng-app="shopApp" ng-controller="shopController">
        <div class="container-fluid">
          <div class="row">
            <div class="col-md-8">
              <h5>Products</h5>
              <div class="row">
                <div ng-repeat="p in products" class="col-md-4 col-sm-6 my-3">
                  <div class="img-thumbnail text-center p-4">
                    <img ng-src="{{ p.imageUrl }}" class="img-fluid">
                    <h6>{{ p.name }}</h6>
                    <p class="text-primary">Price: ${{ p.price }}</p>
                    <button ng-click="addToCart(p)" class="btn btn-primary">
                      <i class="fas fa-shopping-cart"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-4">
              <h5>Selected products</h5>

              <table class="table table-bordered table-hover">
                <thead>
                  <tr class="bg-primary text-light">
                    <th>Id</th>
                    <th style="width: 100%;">Name</th>
                    <th>Price</th>
                    <th>Quantity</th>
                    <th>Sum</th>
                    <th style="width: 1%"></th>
                  </tr>
                </thead>
                <tbody>
                  <tr ng-repeat="p in selectedItems">
                    <td>{{ p.id }}</td>
                    <td>{{ p.name }}</td>
                    <td class="text-right">
                      ${{ p.price }}</td>
                    <td>
                      <input class="form-control" type="number" min="1" max="999" value="1" ng-model="p.quantity" />
                    </td>
                    <td class="text-right">
                      ${{ p.price * p.quantity }}</td>
                    <td>
                      <button ng-click="remove(p)" class="btn btn-sm btn-danger">
                        <span class="glyphicon glyphicon-trash"></span>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-right" style="font-weight: bold" colspan="4">Total:</td>
                    <td>
                      ${{ getTotal() }}
                    </td>
                    <td></td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </div>
        <script type="text/javascript" src="js/angular.js"></script>
        <script>
          var products = [
            { id: "1", type: "Cars", name: "3/4 helmet head royal M04 carbon", price: "90", imageUrl: "./asset/img/cart/1.jpg" },
            { id: "2", type: "Cars", name: "Royal M03 helmet", price: "50", imageUrl: "./asset/img/cart/2.jpg" },
            { id: "3", type: "Placards", name: "Multi-price signage", price: "19.5", imageUrl: "./asset/img/cart/3.jpg" },
            { id: "4", type: "Placards", name: "Korean A-warning signboard", price: "58", imageUrl: "./asset/img/cart/4.jpg" },
            { id: "5", type: "flags & paddles", name: "24\" Construction Flags", price: "6.45", imageUrl: "./asset/img/cart/5.jpg" },
            { id: "6", type: "flags & paddles", name: "36\" Sewn Checkered Airport Flag", price: "19.5", imageUrl: "./asset/img/cart/6.jpg" },
            { id: "7", type: "flags & paddles", name: "18\" STOP/SLOW Paddles", price: "21.95", imageUrl: "./asset/img/cart/7.jpg" },
            { id: "8", type: "flags & paddles", name: "Handheld Traffic Flags", price: "11.95", imageUrl: "./asset/img/cart/8.jpg" },
            { id: "9", type: "flags & paddles", name: "12\" Octagon + 10.5' Handle", price: "17.25", imageUrl: "./asset/img/cart/9.jpg" },
            { id: "10", type: "safety vest", name: "Lime Brilliant Series", price: "15.95", imageUrl: "./asset/img/cart/10.jpg" },
            { id: "11", type: "safety vest", name: "Economy Contrasting Class 2", price: "11.75", imageUrl: "./asset/img/cart/11.jpg" },
            { id: "12", type: "safety vest", name: "5-Point 'Break Away' Safety Vest - Police", price: "32.95", imageUrl: "./asset/img/cart/12.jpg" },
            { id: "13", type: "safety vest", name: "5-Point 'Break Away' Safety Vest - Police", price: "17.5", imageUrl: "./asset/img/cart/13.jpg" },
            { id: "14", type: "fsafety vest", name: "Professional Class 2 Surveyors Vest", price: "49.95", imageUrl: "./asset/img/cart/14.jpg" }
          ];
          var app = angular.module("shopApp", []);
          app.controller("shopController", function ($scope)
          {
            // Show item to the page
            $scope.products = products;
            // Get the select item
            var selectedItems = [];
            $scope.selectedItems = selectedItems;
            // Click select item event
            $scope.addToCart = function (product)
            {
              var existItem = {};
              // Check an exist item in the ShopCart
              angular.forEach($scope.selectedItems, function (item, index)
              {
                if (item.id === product.id)
                {
                  existItem = item;
                  return false;
                }
              });

              // If exist item ++
              if (existItem.id !== undefined)
              {
                existItem.quantity++;
              }
              // Else add to catch
              else
              {
                var cartItem = angular.copy(product);
                cartItem.quantity = 1;
                $scope.selectedItems.push(cartItem);
              }
            };

            // Remove item  from cart
            $scope.remove = function (cartItem)
            {
              var index = $scope.selectedItems.indexOf(cartItem);
              $scope.selectedItems.splice(index, 1);
            };

            $scope.getTotal = function ()
            {
              var total = 0;
              angular.forEach($scope.selectedItems, function (item, index)
              {
                total += (item.price * item.quantity);
              })
              return total;
            }
          });
        </script>
      </div>
    </div>
    <div class="overlay"></div>
  </div>
  <div class="modal fade" id="alert" tabindex="-1" role="dialog" aria-labelledby="alertLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="alertLabel"></h5>
          <button class="close" data-dismiss="modal" aria-label="Close">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="modal-body"></div>
        <div class="modal-footer text-center">
          <button class="btn btn-secondary" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <script defer src="https://use.fontawesome.com/releases/v5.8.1/js/all.js" integrity="sha384-g5uSoOSBd7KkhAMlnQILrecXvzst9TdC09/VM+pjDTCM+1il8RHz5fKANTFFb+gQ" crossorigin="anonymous"></script>

  <script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/malihu-custom-scrollbar-plugin/3.1.5/jquery.mCustomScrollbar.concat.min.js"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.7.8/angular.min.js" integrity="sha256-23hi0Ag650tclABdGCdMNSjxvikytyQ44vYGo9HyOrU=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/1.0.22/angular-ui-router.min.js" integrity="sha256-h/82i+45nj45rnRUHrB7A7OVqYZgkUVL2cuklteNW+o=" crossorigin="anonymous"></script>

  <script src="./asset/js/app/mainScript.js"></script>
</body>

</html>